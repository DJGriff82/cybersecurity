<h1>Manage Users</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Company</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= [user.first_name, user.last_name].compact.join(" ") %></td>
        <td><%= user.email %></td>
        <td><%= user.role.humanize %></td>
        <td><%= user.company&.name || "â€”" %></td>
        <td><%= user.deleted_at.present? ? "Disabled" : "Active" %></td>
        <td>
  <%= link_to "View", super_user_path(user), class: "text-blue-600 hover:text-blue-900" %> |
  <%= link_to "Edit", edit_super_user_path(user), class: "text-blue-600 hover:text-blue-900" %> |

  <% if user.deleted_at.present? %>
    <%= button_to "Enable",
                  toggle_active_super_user_path(user),
                  method: :patch,
                  form: { style: "display:inline;" },
                  class: "text-green-600 hover:text-green-900",
                  data: { confirm: "Re-enable this user?" } %>
  <% else %>
    <%= button_to "Disable",
                  toggle_active_super_user_path(user),
                  method: :patch,
                  form: { style: "display:inline;" },
                  class: "text-red-600 hover:text-red-900",
                  data: { confirm: "Disable this user?" } %>
  <% end %>
</td>
      </tr>
    <% end %>
  </tbody>
</table>