<h1>Companies</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Industry</th>
      <th>Contact Email</th>
      <th>Subscription</th>
      <th>Max Users</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @companies.each do |company| %>
      <tr class="<%= 'archived' if company.archived? %>">
        <td><%= company.name %></td>
        <td><%= company.industry %></td>
        <td><%= company.contact_email %></td>
        <td><%= company.subscription_status %></td>
        <td><%= company.max_users %></td>
        <td><%= company.active_user_count %></td>
        <td><%= company.archived? ? "Archived" : "Active" %></td>
        <td>
          <%= link_to "Show", super_company_path(company) %> |
          <%= link_to "Edit", edit_super_company_path(company) %> |
          <%= link_to "Manage Users", super_company_users_path(company) %> |
          <% if company.archived? %>
            <%= link_to "Restore", restore_super_company_path(company),
                         data: { turbo_method: :patch, confirm: "Restore this company?" } %>
          <% else %>
            <%= link_to "Archive", super_company_path(company),
                         data: { turbo_method: :delete, confirm: "Archive this company?" } %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to "New Company", new_super_company_path %>
