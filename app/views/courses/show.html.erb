<div class="container mx-auto px-4 py-8">
  <div class="bg-white shadow rounded-lg p-6">
    <h1 class="text-2xl font-bold text-gray-900 mb-4"><%= @course.title %></h1>

    <p class="text-gray-700 mb-4"><%= @course.description %></p>

    <div class="grid grid-cols-2 gap-4 mb-6">
      <div>
        <span class="font-semibold text-gray-600">Difficulty:</span>
        <span class="ml-2 px-2 py-1 text-xs font-semibold rounded-full 
          <%= case @course.difficulty
             when "beginner"
               "bg-green-100 text-green-800"
             when "intermediate"
               "bg-yellow-100 text-yellow-800"
             when "advanced"
               "bg-red-100 text-red-800"
             else
               "bg-gray-100 text-gray-800"
             end %>">
          <%= @course.difficulty&.titleize || "Not specified" %>
        </span>
      </div>

      <div>
        <span class="font-semibold text-gray-600">Duration:</span>
        <span class="ml-2 text-gray-900"><%= @course.duration %> minutes</span>
      </div>

      <div>
        <span class="font-semibold text-gray-600">Category:</span>
        <span class="ml-2 text-gray-900"><%= @course.category&.name || "Uncategorized" %></span>
      </div>

      <div>
        <span class="font-semibold text-gray-600">Status:</span>
        <span class="ml-2 px-2 py-1 text-xs rounded-full 
          <%= @course.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800' %>">
          <%= @course.is_active ? 'Active' : 'Inactive' %>
        </span>
      </div>
    </div>

    <% if @course.training_modules.any? %>
      <h2 class="text-xl font-bold text-gray-900 mb-4">Training Modules</h2>
      <ul class="divide-y divide-gray-200">
        <% @course.training_modules.order(:order).each do |tm| %>
          <li class="py-3">
            <h3 class="text-lg font-medium text-gray-900"><%= tm.title %></h3>
            <p class="text-sm text-gray-500">Order: <%= tm.order %></p>

            <% if tm.module_pages.any? %>
              <%= link_to "â–¶ Start Module",
                          course_training_module_module_page_path(@course, tm, tm.module_pages.first),
                          class: "mt-2 inline-block bg-blue-600 text-white px-4 py-2 rounded" %>
            <% else %>
              <p class="text-gray-500 mt-2">No pages yet.</p>
            <% end %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-gray-500 mt-4">No training modules yet.</p>
    <% end %>
  </div>
</div>
